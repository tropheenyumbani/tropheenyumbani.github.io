function fixScroll(){-1!=location.href.indexOf("#work")?(slideDown(),clearScroll(),$(".menu").removeClass("dark").addClass("light"),$("li#work").addClass("active")):($("li#work").removeClass("active"),$(".menu").addClass("intro-active"),clearScroll()),mobile()&&$(".start").css("position","fixed"),animateS()}function clearScroll(){$(window).scrollTop(0),$("html").animate({scrollTop:0},1),$("body").animate({scrollTop:0},1)}function slideUp(){$(".shifted").removeClass("no-shift"),$(".arrow").addClass("intro-active"),$("li#work").removeClass("active"),$(".menu").addClass("dark").removeClass("light").addClass("intro-active"),$(".shifted").removeClass("shift",setTimeout(function(){return $("body").css({overflow:"hidden"}),mobile()&&$(".start").css("position","fixed"),!1},600))}function slideDown(){$("li#work").addClass("active"),$(".arrow").removeClass("intro-active"),$(".menu").removeClass("dark").addClass("light").removeClass("intro-active"),$(".shifted").addClass("shift",setTimeout(function(){return $("body").css({overflow:"auto"}),mobile()&&$(".start").css("position","static"),animateS(),!0},600))}function gotoWork(){slideDown()}function gotoWorkM(){toggleNav(),setTimeout(function(){slideDown()},300)}function fixNav(){}function touchStart(t){null===dragStart&&(t.originalEvent.touches&&(t=t.originalEvent.touches[0]),dragStart=t.clientY)}function touchMove(t){return null!==dragStart?(t.originalEvent.touches&&(t=t.originalEvent.touches[0]),delta=dragStart-t.clientY,percentage=delta/windowHeight,$(".shifted").hasClass("shift")?!0:!1):void 0}function touchEnd(){dragStart=null,percentage>=dragThreshold?slideDown():Math.abs(percentage)>=dragThreshold&&$(window).scrollTop()<50&&(console.log($(window).scrollTop()),slideUp()),percentage=0}$(document).ready(function(){function t(t){var i=t.originalEvent,a=i.detail,n=i.wheelDelta,l=225,s=l-1;if(a=a?n&&(f=n/a)?a/f:-a/1.35:n/120,a=1>a?-1>a?(-Math.pow(a,2)-s)/l:a:(Math.pow(a,2)+s)/l,t.delta=Math.min(Math.max(a/2,-1),1),t.originalEvent.detail<0||t.originalEvent.wheelDelta>0){if(e--,t.delta>=0){e=0;var r=$(".shifted")[0].getBoundingClientRect().top;0==r&&slideUp()}}else e++,e>=o&&(e=0,slideDown())}var e=0,o=3;fixNav(),$(window).on({"DOMMouseScroll mousewheel":t}),$(window).on({touchstart:touchStart,touchmove:touchMove,touchend:touchEnd})}),$(window).scroll(function(){fixNav()});var delta,dragThreshold=.05,dragStart=null,percentage=0,target,previousTarget,windowHeight=$(window).height();